<ui:composition template="/WEB-INF/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:b="http://bootsfaces.net/ui"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <!-- @author Amanda Pan <daikiraidemodaisuki@gmail.com> -->
    <ui:define name="title">Profile</ui:define>
    <ui:define name="content">
        <h1>Availability This Week</h1>
        <!-- Bootsfaces datatable to show the data in an organized fashion -->
        <h:form>
            <b:dataTable id="availDataTable" value = "#{availabilityBean.availabilityList}" var = "avail">
                <b:dataTableColumn>
                    <f:facet name = "header">Day of Week</f:facet>
                    <b:inputText value = "#{avail.dayOfWeek}" 
                                 rendered = "#{avail.editable}" />
                    <h:outputText value = "#{avail.dayOfWeek}" 
                                  rendered = "#{not avail.editable}"/>

                </b:dataTableColumn>

                <b:dataTableColumn>
                    <f:facet name = "header">Start Time</f:facet>
                  <!--  <h:inputText value = "#{avail.startTime}" size = "20"
                                 rendered = "#{avail.editable}" /> -->
                    <h:outputText value = "#{avail.startTime}" 
                                  rendered = "#{not avail.editable}">                        
                        <f:convertDateTime pattern ="hh:mm:ss a"></f:convertDateTime>
                    </h:outputText>
                </b:dataTableColumn>

                <b:dataTableColumn>
                    <f:facet name = "header">End Time</f:facet>
                  <!--  <h:inputText value = "#{avail.endTime}" 
                                 rendered = "#{avail.editable}" /> -->
                    <h:outputText value = "#{avail.endTime}"
                                  rendered = "#{not avail.editable}">
                        <f:convertDateTime pattern ="hh:mm:ss a"></f:convertDateTime>
                    </h:outputText>
                </b:dataTableColumn>

                <b:dataTableColumn>
                    <f:facet name = "header">Edit</f:facet>
                    <b:commandButton value="Edit" action="#{availabilityBean.edit}"
                                     rendered="#{not availability.editable}">
                    </b:commandButton>
                </b:dataTableColumn>
                
                
                <b:dataTableColumn>
                    <f:facet name = "header">Delete</f:facet>
                    <b:commandButton value="Delete" action="#{availabilityBean.deleteAvailability(avail)}"
                                     rendered="#{not availability.editable}">
                    </b:commandButton>
                </b:dataTableColumn>
                
                
            </b:dataTable>  
            <br/>

            <b:commandButton value = "Save Changes"
                             action = "#{availabilityBean.updateAvailability}" />	
        </h:form>
        <ui:debug hotkey='x'/>
    </ui:define>
</ui:composition>